{"version":3,"sources":["../../../src/_dom/mq/add.js"],"names":["add","selector","idMap","result","nodes","Init","length","i","node","nodeID","b$","data","nodeIndex","push"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;AACe,SAASA,GAAT,CAAaC,QAAb,EAAuB;AACpC,MAAMC,KAAK,GAAG,EAAd;AAEA,MAAIC,MAAJ;AAEA,MAAMC,KAAK,GAAG,IAAIC,gBAAJ,CAASJ,QAAT,CAAd;;AAEA,MAAI,KAAKK,MAAT,EAAiB;AACfH,IAAAA,MAAM,GAAG,IAAIE,gBAAJ,EAAT;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKD,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpC,UAAMC,IAAI,GAAG,KAAKD,CAAL,CAAb;AACA,UAAME,MAAM,GAAGD,IAAI,CAACE,EAAL,GAAUF,IAAI,CAACE,EAAL,IAAW,EAAEC,iBAAKC,SAA3C,CAFoC,CAEkB;;AACtDV,MAAAA,KAAK,CAACO,MAAD,CAAL,GAAgB,CAAhB;AACAN,MAAAA,MAAM,CAACU,IAAP,CAAYL,IAAZ;AACD;;AAED,SAAK,IAAID,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGH,KAAK,CAACE,MAA1B,EAAkCC,EAAC,EAAnC,EAAuC;AACrC,UAAMC,KAAI,GAAGJ,KAAK,CAACG,EAAD,CAAlB;;AACA,UAAME,OAAM,GAAGD,KAAI,CAACE,EAAL,GAAUF,KAAI,CAACE,EAAL,IAAW,EAAEC,iBAAKC,SAA3C,CAFqC,CAEiB;;;AACtD,UAAI,CAACV,KAAK,CAACO,OAAD,CAAV,EAAoB;AAClBP,QAAAA,KAAK,CAACO,OAAD,CAAL,GAAgB,CAAhB;AACAN,QAAAA,MAAM,CAACU,IAAP,CAAYL,KAAZ;AACD;AACF;AACF,GAjBD,MAiBO;AACLL,IAAAA,MAAM,GAAGC,KAAT;AACD;;AAED,SAAOD,MAAP;AACD","sourcesContent":["import Init from './_init';\nimport data from './_data';\n\n// adds unique nodes to mq collection\nexport default function add(selector) {\n  const idMap = {};\n\n  let result;\n\n  const nodes = new Init(selector);\n\n  if (this.length) {\n    result = new Init();\n    for (let i = 0; i < this.length; i++) {\n      const node = this[i];\n      const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n      idMap[nodeID] = 1;\n      result.push(node);\n    }\n\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n      if (!idMap[nodeID]) {\n        idMap[nodeID] = 1;\n        result.push(node);\n      }\n    }\n  } else {\n    result = nodes;\n  }\n\n  return result;\n}\n"],"file":"add.js"}