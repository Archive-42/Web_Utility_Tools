{"version":3,"sources":["../../../src/on/_delegatelistener/changehandler.js"],"names":["changeHandler","previousValue","value","triggerOne","latestEvent","info","delegatedData","path","name","callback","context","delegateListener","require"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AAEA;AACA;AACA;AACe,SAASA,aAAT,OASgC;AAAA,MAR7CC,aAQ6C,QAR7CA,aAQ6C;AAAA,MAP7CC,KAO6C,QAP7CA,KAO6C;;AAAA,kFAA3CC,uBAAWC,WAAX,CAAuBC,IAAvB,CAA4BC,aAAe;AAAA,MAL7CC,IAK6C,SAL7CA,IAK6C;AAAA,MAJ7CC,IAI6C,SAJ7CA,IAI6C;AAAA,MAH7CC,QAG6C,SAH7CA,QAG6C;AAAA,MAF7CC,OAE6C,SAF7CA,OAE6C;AAAA,MAD7CL,IAC6C,SAD7CA,IAC6C;;AAC7C,MAAIH,KAAK,IAAI,yBAAOA,KAAP,MAAiB,QAA9B,EAAwC;AACtC,QAAMS,gBAAgB,GAAGC,OAAO,CAAC,IAAD,CAAP,WAAzB,CADsC,CACU;;;AAEhDD,IAAAA,gBAAgB,CAACT,KAAD,EAAQK,IAAR,EAAcC,IAAd,EAAoBC,QAApB,EAA8BC,OAA9B,EAAuCL,IAAvC,CAAhB;AACD;;AAED,MAAIJ,aAAa,IAAI,yBAAOA,aAAP,MAAyB,QAA9C,EAAwD;AACtD,wCAAmBA,aAAnB,EAAkCM,IAAlC,EAAwCC,IAAxC,EAA8CC,QAA9C,EAAwDC,OAAxD,EAAiEL,IAAjE;AACD;AACF","sourcesContent":["import undelegateListener from '../../off/_undelegatelistener';\nimport triggerOne from '../../trigger/_triggerone';\n\n// the function is called when some part of a path is changed\n// it delegates event listener for new branch of an object and undelegates it for old one\n// used for non-asterisk events\nexport default function changeHandler({\n  previousValue,\n  value\n}, {\n  path,\n  name,\n  callback,\n  context,\n  info\n} = triggerOne.latestEvent.info.delegatedData) {\n  if (value && typeof value === 'object') {\n    const delegateListener = require('./').default; // fixing circular ref\n\n    delegateListener(value, path, name, callback, context, info);\n  }\n\n  if (previousValue && typeof previousValue === 'object') {\n    undelegateListener(previousValue, path, name, callback, context, info);\n  }\n}\n"],"file":"changehandler.js"}