'use strict';

var defs = require('../../_core/defs');

var matreshkaError = require('../../_helpers/matreshkaerror');

// checks is item already rendered in an array
// selfDef is given instead of itself (array) for perf optimisation
module.exports = checkAlreadyRendered;
function checkAlreadyRendered(_ref) {
    var item = _ref.item,
        selfDef = _ref.selfDef;

    var itemDef = defs.get(item);
    var selfId = selfDef.id;

    // if item object is defined in object defs

    if (itemDef) {
        var renderedInArrays = itemDef.renderedInArrays;

        // if item's node is already rendered for an array
        // then throw an error

        if (renderedInArrays && renderedInArrays[selfId]) {
            throw matreshkaError('array:add_render_twice');
        }
    }
}
//# sourceMappingURL=checkalreadyrendered.js.map