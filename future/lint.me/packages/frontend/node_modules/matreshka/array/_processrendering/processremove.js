'use strict';

var defs = require('../../_core/defs');

// this function removes DOM nodes of removed items
// called on splice, pull, pop and shift
module.exports = processRemove;
function processRemove(_ref) {
    var selfDef = _ref.selfDef,
        eventOptions = _ref.eventOptions,
        container = _ref.container;
    var removed = eventOptions.removed;
    var selfId = selfDef.id;

    for (var _target = removed, _index = 0, item, _l = _target.length; item = _target[_index], _index < _l; _index++) {
        if (item && typeof item === 'object') {
            var itemDef = defs.get(item);
            if (itemDef) {
                var renderedInArrays = itemDef.renderedInArrays;

                var node = renderedInArrays && renderedInArrays[selfId];
                if (node) {
                    delete renderedInArrays[selfId];
                    container.removeChild(node);
                }
            }
        }
    }
}
//# sourceMappingURL=processremove.js.map