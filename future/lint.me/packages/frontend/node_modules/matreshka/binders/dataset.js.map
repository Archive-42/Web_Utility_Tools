{"version":3,"sources":["../../src/binders/dataset.js"],"names":["replacer","u","toLowerCase","toDashed","name","replace","dataset","prop","mappingFn","on","getValue","getAttribute","setValue","value","val","setAttribute"],"mappings":";;AAAA;AACA,IAAMA,WAAW;AAAA,iBAASC,EAAEC,WAAF,EAAT;AAAA,CAAjB;AACA,IAAMC,WAAW;AAAA,qBAAgBC,KAAKC,OAAL,CAAa,UAAb,EAAyBL,QAAzB,CAAhB;AAAA,CAAjB;;AAEA;AACA;iBACwBM,O;AAAT,SAASA,OAAT,CAAiBC,IAAjB,EAAuBC,SAAvB,EAAkC;AAC7C,WAAO;AACHC,YAAI,IADD;AAEHC,gBAFG,cAEQ;AACP,gBAAI,KAAKJ,OAAT,EAAkB;AACd,uBAAO,KAAKA,OAAL,CAAaC,IAAb,CAAP;AACH;;AAED,mBAAO,KAAKI,YAAL,CAAkBR,SAASI,IAAT,CAAlB,CAAP;AACH,SARE;AASHK,gBATG,YASMC,KATN,EASa;AACZ,gBAAMC,MAAM,OAAON,SAAP,KAAqB,UAArB,GAAkCA,UAAUK,KAAV,CAAlC,GAAqDA,KAAjE;;AAEA,gBAAI,KAAKP,OAAT,EAAkB;AACd,qBAAKA,OAAL,CAAaC,IAAb,IAAqBO,GAArB;AACH,aAFD,MAEO;AACH,qBAAKC,YAAL,CAAkBZ,SAASI,IAAT,CAAlB,EAAkCO,GAAlC;AACH;AACJ;AAjBE,KAAP;AAmBH","file":"dataset.js","sourcesContent":["// replace namesLikeThis with names-like-this\nconst replacer = u => `-${u.toLowerCase()}`;\nconst toDashed = name => `data-${name.replace(/([A-Z])/g, replacer)}`;\n\n//  returns a binder for dataset of an element\n// old browsers are also supported @IE9 @IE10\nexport default function dataset(prop, mappingFn) {\n    return {\n        on: null,\n        getValue() {\n            if (this.dataset) {\n                return this.dataset[prop];\n            }\n\n            return this.getAttribute(toDashed(prop));\n        },\n        setValue(value) {\n            const val = typeof mappingFn === 'function' ? mappingFn(value) : value;\n\n            if (this.dataset) {\n                this.dataset[prop] = val;\n            } else {\n                this.setAttribute(toDashed(prop), val);\n            }\n        }\n    };\n}\n"]}