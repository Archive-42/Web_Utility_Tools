'use strict';

var triggerOne = require('../../trigger/_triggerone');

// the function is called when something is added to an array
// it delegates asterisk listener for newly added items
module.exports = arrayAddHandler;
function arrayAddHandler(_ref) {
    var added = _ref.added;

    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : triggerOne.latestEvent.info.delegatedData,
        path = _ref2.path,
        name = _ref2.name,
        callback = _ref2.callback,
        context = _ref2.context,
        info = _ref2.info;

    for (var _target = added, _index = 0, item, _l = _target.length; item = _target[_index], _index < _l; _index++) {
        if (item && typeof item === 'object') {
            var delegateListener = require('./'); // fixing circular ref

            delegateListener(item, path, name, callback, context, info);
        }
    }
}
//# sourceMappingURL=arrayaddhandler.js.map