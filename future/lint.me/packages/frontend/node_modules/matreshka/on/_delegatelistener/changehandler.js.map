{"version":3,"sources":["../../../src/on/_delegatelistener/changehandler.js"],"names":["changeHandler","previousValue","value","triggerOne","latestEvent","info","delegatedData","path","name","callback","context","delegateListener","require","undelegateListener"],"mappings":";;iCAA+B,+B;;yBACR,2B;;AAEvB;AACA;AACA;iBACwBA,a;AAAT,SAASA,aAAT,OASgC;AAAA,QAR3CC,aAQ2C,QAR3CA,aAQ2C;AAAA,QAP3CC,KAO2C,QAP3CA,KAO2C;;AAAA,oFAA3CC,WAAWC,WAAX,CAAuBC,IAAvB,CAA4BC,aAAe;AAAA,QAL3CC,IAK2C,SAL3CA,IAK2C;AAAA,QAJ3CC,IAI2C,SAJ3CA,IAI2C;AAAA,QAH3CC,QAG2C,SAH3CA,QAG2C;AAAA,QAF3CC,OAE2C,SAF3CA,OAE2C;AAAA,QAD3CL,IAC2C,SAD3CA,IAC2C;;AAC3C,QAAIH,SAAS,OAAOA,KAAP,KAAiB,QAA9B,EAAwC;AACpC,YAAMS,mBAAmBC,QAAQ,IAAR,CAAzB,CADoC,CACI;;AAExCD,yBAAiBT,KAAjB,EAAwBK,IAAxB,EAA8BC,IAA9B,EAAoCC,QAApC,EAA8CC,OAA9C,EAAuDL,IAAvD;AACH;;AAED,QAAIJ,iBAAiB,OAAOA,aAAP,KAAyB,QAA9C,EAAwD;AACpDY,2BAAmBZ,aAAnB,EAAkCM,IAAlC,EAAwCC,IAAxC,EAA8CC,QAA9C,EAAwDC,OAAxD,EAAiEL,IAAjE;AACH;AACJ","file":"changehandler.js","sourcesContent":["import undelegateListener from '../../off/_undelegatelistener';\nimport triggerOne from '../../trigger/_triggerone';\n\n// the function is called when some part of a path is changed\n// it delegates event listener for new branch of an object and undelegates it for old one\n// used for non-asterisk events\nexport default function changeHandler({\n    previousValue,\n    value\n}, {\n    path,\n    name,\n    callback,\n    context,\n    info\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (value && typeof value === 'object') {\n        const delegateListener = require('./'); // fixing circular ref\n\n        delegateListener(value, path, name, callback, context, info);\n    }\n\n    if (previousValue && typeof previousValue === 'object') {\n        undelegateListener(previousValue, path, name, callback, context, info);\n    }\n}\n"]}