{"version":3,"sources":["../../../src/on/_delegatelistener/objectsethandler.js"],"names":["objectSetHandler","key","triggerOne","latestEvent","info","delegatedData","path","name","callback","context","object","item","def","defs","get","keys","delegateListener","require"],"mappings":";;yBAAuB,2B;;mBACN,kB;;AAEjB;AACA;iBACwBA,gB;AAAT,SAASA,gBAAT,OAOgC;AAAA,QAPJC,GAOI,QAPJA,GAOI;;AAAA,oFAA3CC,WAAWC,WAAX,CAAuBC,IAAvB,CAA4BC,aAAe;AAAA,QAN3CC,IAM2C,SAN3CA,IAM2C;AAAA,QAL3CC,IAK2C,SAL3CA,IAK2C;AAAA,QAJ3CC,QAI2C,SAJ3CA,QAI2C;AAAA,QAH3CC,OAG2C,SAH3CA,OAG2C;AAAA,QAF3CL,IAE2C,SAF3CA,IAE2C;AAAA,QAD3CM,MAC2C,SAD3CA,MAC2C;;AAC3C,QAAIT,GAAJ,EAAS;AACL,YAAMU,OAAOD,OAAOT,GAAP,CAAb;;AAEA,YAAIU,QAAQ,OAAOA,IAAP,KAAgB,QAA5B,EAAsC;AAClC,gBAAMC,MAAMC,KAAKC,GAAL,CAASJ,MAAT,CAAZ;AACA,gBAAIT,OAAOW,IAAIG,IAAf,EAAqB;AACjB,oBAAMC,mBAAmBC,QAAQ,IAAR,CAAzB,CADiB,CACuB;;AAExCD,iCAAiBL,IAAjB,EAAuBL,IAAvB,EAA6BC,IAA7B,EAAmCC,QAAnC,EAA6CC,OAA7C,EAAsDL,IAAtD;AACH;AACJ;AACJ;AACJ","file":"objectsethandler.js","sourcesContent":["import triggerOne from '../../trigger/_triggerone';\nimport defs from '../../_core/defs';\n\n// the function is called when data property is changed in Matreshka.Object\n// it delegates asterisk listener for new value\nexport default function objectSetHandler({ key }, {\n    path,\n    name,\n    callback,\n    context,\n    info,\n    object\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (key) {\n        const item = object[key];\n\n        if (item && typeof item === 'object') {\n            const def = defs.get(object);\n            if (key in def.keys) {\n                const delegateListener = require('./'); // fixing circular ref\n\n                delegateListener(item, path, name, callback, context, info);\n            }\n        }\n    }\n}\n"]}