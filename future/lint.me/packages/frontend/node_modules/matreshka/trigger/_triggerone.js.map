{"version":3,"sources":["../../src/trigger/_triggerone.js"],"names":["triggerOne","object","name","triggerArgs","def","defs","get","events","l","length","i","Array","event","latestEvent","callback","ctx","apply","call","info"],"mappings":";;mBAAiB,e;;oBACC,mB;;AAElB;iBACwBA,U;AAAT,SAASA,UAAT,CAAoBC,MAApB,EAA4BC,IAA5B,EAAkCC,WAAlC,EAA+C;AAC1D,QAAMC,MAAMC,KAAKC,GAAL,CAASL,MAAT,CAAZ;AACA,QAAMM,SAASH,OAAOA,IAAIG,MAAJ,CAAWL,IAAX,CAAtB;;AAEA,QAAIK,MAAJ,EAAY;AACR,YAAMC,IAAID,OAAOE,MAAjB;AACA,YAAIC,IAAI,CAAR;;AAEA;AACA,YAAIP,uBAAuBQ,KAA3B,EAAkC;AAC9B,mBAAOD,IAAIF,CAAX,EAAc;AACV,oBAAMI,QAAQZ,WAAWa,WAAX,GAAyBN,OAAOG,CAAP,CAAvC;AADU,oBAEFI,QAFE,GAEgBF,KAFhB,CAEFE,QAFE;AAAA,oBAEQC,GAFR,GAEgBH,KAFhB,CAEQG,GAFR;;AAGVC,sBAAMF,QAAN,EAAgBC,GAAhB,EAAqBZ,WAArB;AACAO,qBAAK,CAAL;AACH;AACJ,SAPD,MAOO;AACH,mBAAOA,IAAIF,CAAX,EAAc;AACV,oBAAMI,SAAQZ,WAAWa,WAAX,GAAyBN,OAAOG,CAAP,CAAvC;AADU,oBAEFI,SAFE,GAEgBF,MAFhB,CAEFE,QAFE;AAAA,oBAEQC,IAFR,GAEgBH,MAFhB,CAEQG,GAFR;;AAGVD,0BAASG,IAAT,CAAcF,IAAd,EAAmBZ,WAAnB;AACAO,qBAAK,CAAL;AACH;AACJ;AACJ;AACJ;;AAED;AACAV,WAAWa,WAAX,GAAyB;AACrBK,UAAM,EADe;AAErBhB,UAAM;AAFe,CAAzB","file":"_triggerone.js","sourcesContent":["import defs from '../_core/defs';\nimport apply from '../_helpers/apply';\n\n// triggers one event\nexport default function triggerOne(object, name, triggerArgs) {\n    const def = defs.get(object);\n    const events = def && def.events[name];\n\n    if (events) {\n        const l = events.length;\n        let i = 0;\n\n        // allow to pass both array of args and single arg as triggerArgs\n        if (triggerArgs instanceof Array) {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback, ctx } = event;\n                apply(callback, ctx, triggerArgs);\n                i += 1;\n            }\n        } else {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback, ctx } = event;\n                callback.call(ctx, triggerArgs);\n                i += 1;\n            }\n        }\n    }\n}\n\n// latestEvent is used as required hack in somemethods\ntriggerOne.latestEvent = {\n    info: {},\n    name: null\n};\n"]}