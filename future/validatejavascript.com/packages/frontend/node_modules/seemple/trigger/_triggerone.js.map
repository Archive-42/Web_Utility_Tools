{"version":3,"sources":["../../src/trigger/_triggerone.js"],"names":["triggerOne","object","name","triggerArgs","def","defs","get","events","l","length","i","Array","event","latestEvent","callback","ctx","call","info"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;AACe,SAASA,UAAT,CAAoBC,MAApB,EAA4BC,IAA5B,EAAkCC,WAAlC,EAA+C;AAC5D,MAAMC,GAAG,GAAGC,iBAAKC,GAAL,CAASL,MAAT,CAAZ;;AACA,MAAMM,MAAM,GAAGH,GAAG,IAAIA,GAAG,CAACG,MAAJ,CAAWL,IAAX,CAAtB;;AAEA,MAAIK,MAAJ,EAAY;AACV,QAAMC,CAAC,GAAGD,MAAM,CAACE,MAAjB;AACA,QAAIC,CAAC,GAAG,CAAR,CAFU,CAIV;;AACA,QAAIP,WAAW,YAAYQ,KAA3B,EAAkC;AAChC,aAAOD,CAAC,GAAGF,CAAX,EAAc;AACZ,YAAMI,KAAK,GAAGZ,UAAU,CAACa,WAAX,GAAyBN,MAAM,CAACG,CAAD,CAA7C;AADY,YAEJI,QAFI,GAEcF,KAFd,CAEJE,QAFI;AAAA,YAEMC,GAFN,GAEcH,KAFd,CAEMG,GAFN;AAGZ,+BAAMD,QAAN,EAAgBC,GAAhB,EAAqBZ,WAArB;AACAO,QAAAA,CAAC,IAAI,CAAL;AACD;AACF,KAPD,MAOO;AACL,aAAOA,CAAC,GAAGF,CAAX,EAAc;AACZ,YAAMI,MAAK,GAAGZ,UAAU,CAACa,WAAX,GAAyBN,MAAM,CAACG,CAAD,CAA7C;;AADY,YAEJI,SAFI,GAEcF,MAFd,CAEJE,QAFI;AAAA,YAEMC,IAFN,GAEcH,MAFd,CAEMG,GAFN;;AAGZD,QAAAA,SAAQ,CAACE,IAAT,CAAcD,IAAd,EAAmBZ,WAAnB;;AACAO,QAAAA,CAAC,IAAI,CAAL;AACD;AACF;AACF;AACF,C,CAED;;;AACAV,UAAU,CAACa,WAAX,GAAyB;AACvBI,EAAAA,IAAI,EAAE,EADiB;AAEvBf,EAAAA,IAAI,EAAE;AAFiB,CAAzB","sourcesContent":["import defs from '../_core/defs';\nimport apply from '../_helpers/apply';\n\n// triggers one event\nexport default function triggerOne(object, name, triggerArgs) {\n  const def = defs.get(object);\n  const events = def && def.events[name];\n\n  if (events) {\n    const l = events.length;\n    let i = 0;\n\n    // allow to pass both array of args and single arg as triggerArgs\n    if (triggerArgs instanceof Array) {\n      while (i < l) {\n        const event = triggerOne.latestEvent = events[i];\n        const { callback, ctx } = event;\n        apply(callback, ctx, triggerArgs);\n        i += 1;\n      }\n    } else {\n      while (i < l) {\n        const event = triggerOne.latestEvent = events[i];\n        const { callback, ctx } = event;\n        callback.call(ctx, triggerArgs);\n        i += 1;\n      }\n    }\n  }\n}\n\n// latestEvent is used as required hack in somemethods\ntriggerOne.latestEvent = {\n  info: {},\n  name: null\n};\n"],"file":"_triggerone.js"}